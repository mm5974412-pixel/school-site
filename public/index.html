<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#020617" />
  <link rel="manifest" href="/manifest.json" />
  <title>NovaChat ‚Äî –±—ã—Å—Ç—Ä—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="header">
    <h1>NovaChat</h1>
    <nav>
      <a href="/login.html">–í–æ–π—Ç–∏</a>
      <a href="/register.html">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a>
    </nav>
  </header>

  <main class="container">
    <div class="landing">
      <div class="landing-text">
        <h2>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ</h2>
        <p>
          –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –ø–µ—Ä–µ–ø–∏—Å–∫–∞.
        </p>
        <div class="landing-actions">
  <a href="/chat" class="btn-primary">–û—Ç–∫—Ä—ã—Ç—å NovaChat</a>
  <a href="/register.html" class="btn-secondary">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a>
  <button
    id="install-btn"
    class="btn-ghost"
    style="display: none;"
  >
    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å NovaChat
  </button>
</div>
      </div>
      <div class="landing-preview">
        <div class="preview-window">
          <div class="preview-header">
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="preview-title">–û–±—â–∏–π —á–∞—Ç</span>
          </div>
          <div class="preview-messages">
            <div class="preview-msg left">–ü—Ä–∏–≤–µ—Ç! NovaChat —É–∂–µ –∑–∞–ø—É—â–µ–Ω üëã</div>
            <div class="preview-msg right">–ö—Ä–∞—Å–∏–≤–æ –≤—ã–≥–ª—è–¥–∏—Ç. –ü–æ–≥–Ω–∞–ª–∏ –æ–±—â–∞—Ç—å—Å—è.</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p>&copy; 2026 NovaChat</p>
  </footer>
  
<script>
  let deferredPrompt;
  const installBtn = document.getElementById("install-btn");

  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä–∞
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker
        .register("/service-worker.js")
        .catch((err) => console.log("SW registration failed", err));
    });
  }

  // –ë—Ä–∞—É–∑–µ—Ä —Å–æ–æ–±—â–∞–µ—Ç, —á—Ç–æ —Å–∞–π—Ç –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  window.addEventListener("beforeinstallprompt", (e) => {
    e.preventDefault(); // –æ—Ç–∫–ª—é—á–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –±–∞–Ω–Ω–µ—Ä
    deferredPrompt = e;
    if (installBtn) {
      installBtn.style.display = "inline-flex"; // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
    }
  });

  // –ö–ª–∏–∫ –ø–æ –Ω–∞—à–µ–π –∫–Ω–æ–ø–∫–µ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å NovaChat"
  if (installBtn) {
    installBtn.addEventListener("click", async () => {
      if (!deferredPrompt) return;

      deferredPrompt.prompt(); // –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

      const { outcome } = await deferredPrompt.userChoice;
      console.log("User choice:", outcome);

      deferredPrompt = null;
      installBtn.style.display = "none"; // –ø—Ä—è—á–µ–º –∫–Ω–æ–ø–∫—É –ø–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏
    });
  }

  // –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏
  window.addEventListener("appinstalled", () => {
    console.log("NovaChat installed");
    if (installBtn) {
      installBtn.style.display = "none";
    }
  });
</script>
</body>
</html>







